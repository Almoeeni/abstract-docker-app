function xhrCall(d,b,a,c){let defaultOptions={cache:false,type:"get",dataType:"json"};if(typeof(a)==="object"){$.extend(defaultOptions,a)}if(typeof(b)!=="object"){console.log("xhrCall expects object for second parameter");return false}defaultOptions.url=d;defaultOptions.data=b;$.ajax(defaultOptions).done(function(e){if(typeof(c)==="function"){if(defaultOptions.dataType==="json"){if(typeof(e)==="object"){c(e)}else{console.log("Expecting an object from XHR")}}else{c(e)}}}).fail(function(e,g,f){console.log("XHR Failed: "+g);console.log(f)})}function xhrForm(a,c){if($(a).is("form")){var b=$(a).attr("action");$(a).find(":submit").attr("disabled",true);xhrCall(b,$(a).serializeArray(),{type:"post"},c);$(a).find(":submit").attr("disabled",false)}}function xhrFormData(a,c){if($(a).is("form")){var b=$(a).attr("action");$(a).find(":submit").attr("disabled",true);xhrCall(b,new FormData($(a)[0]),{type:"post",processData:false,contentType:false},c);$(a).find(":submit").attr("disabled",false)}}function processFormResult(b,a){if($(b).is("form")){if(typeof(a)==="object"){if(a.hasOwnProperty("param")){$(b).find(':input[name="'+a.param+'"]').addClass("is-invalid")}xhrResult(a)}}}function xhrMessageNotyType(a){if(typeof a==="string"){switch(a){case"error":case"danger":return"error";case"success":case"info":case"warning":return a;default:return"alert"}}}function xhrResult(a){if(typeof(a)==="object"){if(a.hasOwnProperty("messages")){var b=a.messages;if($.isArray(b)){$(b).each(function(c,f){if(typeof f==="object"){if(f.hasOwnProperty("type")&&f.hasOwnProperty("message")){var e=xhrMessageNotyType(f.type);var d=f.message;var g="bottomRight";if(e==="success"){g="bottom"}issueNoty3(e,d,g)}}})}}}}function resetForm(a){if($(a).is("form")){$(a).find(":input").removeClass("is-invalid")}}function issueNoty3(b,d,e,c){if(e==null){e="bottom"}var a={type:b,layout:e,theme:"bootstrap-v4",text:d,timeout:3500,progressBar:true,animation:{open:"animated fadeInRight",close:"animated fadeOutRight"}};if(typeof(c)==="object"){$.extend(a,c)}new Noty(a).show()}function regularXhrForm(a,b){if($(a).is("form")){resetForm(a);xhrForm(a,function(c){processFormResult(a,c);if(typeof(b)==="function"){b(c)}})}};